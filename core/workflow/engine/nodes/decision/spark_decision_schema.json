 {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "properties": {
      "id": {
        "type": "string",
        "pattern": "^decision-making::[0-9a-zA-Z-]+"
      },
      "data": {
        "type": "object",
        "required": ["nodeMeta", "inputs", "outputs", "nodeParam"],
        "properties": {
          "nodeMeta": {
            "type": "object",
            "properties": {
              "nodeType": {
                "type": "string",
                "minLength": 1
              },
              "aliasName": {
                "type": "string",
                "minLength": 1
              }
            }
          },
          "inputs": {
            "type": "array",
            "minItems": 0,
            "items": {
              "type": "object",
              "required": ["name", "schema"],
              "properties": {
                "name": {
                  "type": "string",
                  "minLength": 1
                },
                "schema": {
                  "type": "object",
                  "required": ["type", "value"],
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": ["string"]
                    },
                    "value": {
                      "type": "object",
                      "required": ["type", "content"],
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": ["ref", "literal"]
                        },
                        "content": {
                          "anyOf": [
                            {
                              "type": "object",
                              "required": ["nodeId", "name"],
                              "properties": {
                                "nodeId": {
                                  "type": "string",
                                  "minLength": 1
                                },
                                "name": {
                                  "type": "string",
                                  "minLength": 1
                                }
                              }
                            },
                            {
                              "type": "string",
                              "minLength": 1
                            }
                          ]
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "outputs": {
              "type": "array",
              "minItems": 0,
              "maxItems": 1,
              "items": {
              "type": "object",
              "required": ["name", "schema"],
              "properties": {
                "name": {
                  "type": "string",
                  "minLength": 1
                },
                "required": {
                  "type": "boolean"
                },
                "schema": {
                  "type": "object",
                  "required": ["type"],
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": ["string"]
                    }
                  }
                }
              }
          }
          },
          "nodeParam": {
            "type": "object",
            "required": ["model", "domain", "appId", "maxTokens"],
            "properties": {
              "model": {
                "type": "string"
              },
              "url": {
                "type": "string"
              },
              "domain": {
                "type": "string"
              },
              "temperature": {
                "type": "number"
              },
              "appId": {
                "type": "string"
              },
              "apiKey": {
                "type": "string"
              },
              "apiSecret": {
                "type": "string"
              },
              "maxTokens": {
                "type": "integer"
              },
              "uid": {
                "type": "string"
              },
              "template": {
                "type": "string"
              },
              "promptPrefix": {
                "type": "string"
              },
              "intentChains": {
                "type": "array",
                "items": {
                  "type": "object",
                  "required": ["id", "name", "description", "intentType"],
                  "properties": {
                    "id": {
                      "type": "string",
                      "pattern": "^intent-one-of::[0-9a-zA-Z-]+"
                    },
                    "name": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    },
                    "intentType": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
